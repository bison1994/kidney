!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="/dist",e(0)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(3),s=n(2),u=function(){function t(){i(this,t),this.winW=window.innerWidth,this.scorePanel=document.getElementById("score"),this.kill=0,this.gameOver=this.gameOver.bind(this),this.score=this.score.bind(this),this.plane=new r.Plane(document.getElementById("plane")),this.step=2e3,this.timer=this.emit(this.step)}return o(t,[{key:"emit",value:function(t){var e=this;return setTimeout(function(){if(e.timer){clearInterval(e.timer),e.step-=300;var t=e.step<=500?500:e.step;e.timer=e.emit(t)}},1e4),setInterval(function(){var t=Math.random()*e.winW,n=-60;if(s.enemyStack.length>0){var i=s.enemyStack.pop();i.init(t,n)}else new s.Enemy(t,n,e,e.plane)},t)}},{key:"gameOver",value:function(){clearInterval(this.timer),this.timer=null,this.plane.stop(),document.getElementById("gameover").style.display="block"}},{key:"score",value:function(){this.kill+=1,this.scorePanel.textContent=100*this.kill}}]),t}();new u},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=[],r={},s=function(){function t(e,i){n(this,t),this.timer=null,this.id=Date.now().toString(),r[this.id]={x:e,y:i},this.create(e,i),this.init(e,i)}return i(t,[{key:"create",value:function(t,e){var n=document.createElement("div");n.setAttribute("class","bullet"),n.style.left=t+"px",n.style.top=e+"px",this.dom=n,document.body.appendChild(n)}},{key:"init",value:function(t,e){this.left=t,this.top=e,this.y=e,this.emit()}},{key:"emit",value:function(){var t=this;this.timer=setInterval(function(){t.move()},20)}},{key:"move",value:function(){this.y-=10,this.top=this.y,this.y<-100&&this.reset()}},{key:"reset",value:function(){clearInterval(this.timer),this.timer=null,o.push(this)}},{key:"top",set:function(t){this.dom.style.top=t+"px",r[this.id].y=t}},{key:"left",set:function(t){this.dom.style.left=t+"px",r[this.id].x=t}}]),t}();e.Bullet=s,e.bulletStack=o,e.bulletCoordinate=r},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.enemyStack=e.Enemy=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),s=[],u=window.innerHeight,l=function(){function t(e,n,o,r){i(this,t),this.timer=null,this.controller=o,this.plane=r,this.create(e,n),this.init(e,n)}return o(t,[{key:"create",value:function(t,e){var n=document.createElement("div");n.setAttribute("class","enemy"),n.style.left=t+"px",n.style.top=e+"px",this.dom=n,document.body.appendChild(n)}},{key:"init",value:function(t,e){this.left=t,this.top=e,this.x=t,this.y=e,this.emit()}},{key:"emit",value:function(){var t=this;this.timer=setInterval(function(){t.step()},25)}},{key:"step",value:function(){if(this.isHit())return this.remove(),this.reset(),void this.controller.score();var t=this.plane.left,e=this.plane.top;return this.isCrash(t,e)?(this.reset(),void this.controller.gameOver()):this.y>u?void this.reset():void(this.y<.4*u?(this.y+=5,this.top=this.y):this.suicide(t,e))}},{key:"suicide",value:function(t,e){if(this.y+=5,this.top=this.y,e-this.y>10){var n=(t-this.x)/(e-this.y);n=n>4?4:n,n=n<-4?-4:n,this.x+=5*n,this.left=this.x}}},{key:"isHit",value:function(){for(var t in r.bulletCoordinate){var e=r.bulletCoordinate[t].x-this.x;if(!(e<0||e>60)){var n=r.bulletCoordinate[t].y-this.y;if(n>0&&n<60)return!0}}}},{key:"isCrash",value:function(t,e){var n=this.x-t,i=this.y-e;if(n<40&&n>-50&&i>-40&&i<40)return!0}},{key:"remove",value:function(){this.top=-60}},{key:"reset",value:function(){clearInterval(this.timer),this.timer=null,s.push(this)}},{key:"top",set:function(t){this.dom.style.top=t+"px"}},{key:"left",set:function(t){this.dom.style.left=t+"px"}}]),t}();e.Enemy=l,e.enemyStack=s},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.Plane=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(1),s=function(){function t(e){i(this,t),this.dom=e,this.timer=null,this.fireTimer=null,this.init()}return o(t,[{key:"init",value:function(){var t=this;this.dom.onmousedown=function(e){t.top=e.pageY-25,t.left=e.pageX-25,document.onmousemove=function(e){e.stopPropagation(),t.move(e)},t.fire()},document.onmouseup=function(){document.onmousemove=null,clearInterval(t.fireTimer),t.fireTimer=null},this.dom.ontouchstart=function(e){t.top=e.pageY-25,t.left=e.pageX-25,document.ontouchmove=function(e){e.stopPropagation(),t.move(e)},t.fire()},document.ontouchend=function(){document.ontouchmove=null,clearInterval(t.fireTimer),t.fireTimer=null}}},{key:"fire",value:function(){var t=this;this.fireTimer=setInterval(function(){var e=t.left+25,n=t.top;if(r.bulletStack.length>0){var i=r.bulletStack.pop();i.init(e,n)}else new r.Bullet(e,n)},200)}},{key:"move",value:function(t){var e=this;this.timer||(this.timer=setTimeout(function(){e.top=t.pageY-25,e.left=t.pageX-25,e.timer=null},100))}},{key:"stop",value:function(){this.dom.onmousedown=null,document.onmousemove=null,document.onmouseup=null,this.dom.ontouchstart=null,document.ontouchmove=null,document.ontouchmove=null,clearInterval(this.fireTimer)}},{key:"top",set:function(t){this.dom.style.top=t+"px"},get:function(){return this.dom.offsetTop}},{key:"left",set:function(t){this.dom.style.left=t+"px"},get:function(){return this.dom.offsetLeft}}]),t}();e.Plane=s}]);